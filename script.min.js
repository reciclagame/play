import e from "./assets/js/items.js"; !function () { let t = Object.keys(e), n, s = 0, l = 3, a = 0, o, r = "recicla-game", i = 1e4, m = document.getElementsByClassName("bin"), c = document.getElementsByClassName("start"), d = document.getElementsByClassName("label"), g = document.getElementsByClassName("overlay"), y = document.getElementById("game-over"), $ = document.getElementById("last-level"), E = document.getElementById("record"), f = document.getElementById("level"), B = document.getElementById("lives"), C = document.getElementById("timer-bar"), h = document.getElementById("item-img"), p = document.getElementById("item-label"), u = new Audio("./assets/sounds/correct.mp3"), v = new Audio("./assets/sounds/record.wav"), I = new Audio("./assets/sounds/wrong.mp3"), x = e => { k(), w(e) ? N() : b(), J() }, _ = () => e[n]?.[1], w = e => _() === e, N = () => { G(u), f.textContent = "N\xedvel: " + ++s, i -= 200 }, b = () => { G(I), B.textContent = --l + ` chance${l > 1 ? "s" : ""}` }, L = () => { C.getBoundingClientRect(), C.style.transition = `transform ${i / 1e3}s`, C.style.transform = "scaleX(0)", o = setTimeout(function () { "especial" === _() ? N() : b(), k(), J() }, i) }, k = () => { C.style.transform = "scaleX(1)", C.style.transition = "none", C.getBoundingClientRect(), clearTimeout(o) }, j = () => { y.classList.add("show"), A(), F(), R() }, R = () => { k(), s = 0, l = 3, f.textContent = "N\xedvel: " + s, B.textContent = l + " chances" }, X = t => { h.src = `./assets/images/i-${t}.png`, p.textContent = e[t][0] }, O = () => { let l = t.filter(t => e[t][2] <= s), o = Math.floor(Math.random() * (l.length - a)); a = Math.min(a + 1, 5), [n] = l.splice(o, 1), t.splice(t.indexOf(n), 1), t.push(n), X(n) }, T = () => { [...d].forEach(e => H(e, s < 20)) }, q = () => H(p, s < 25), z = () => { if (s < 10) return; let e = document.getElementById("bins"); for (let t = m.length; t >= 0;)e.appendChild(m[Math.random() * t-- | 0]) }, A = () => $.textContent = s, D = () => +localStorage.getItem(r), F = () => { let e = D(); e >= s || (G(v), localStorage.setItem(r, s), E.textContent = D()) }, G = e => { e.currentTime = 0, e.play() }, H = (e, t) => { e.style.display = t ? "flex" : "none" }, J = () => { if (0 === l) return j();[...g].forEach(e => e.classList.remove("show")), z(), q(), T(), L(), O() }; E.textContent = D(), [...c].forEach(e => e.addEventListener("click", J)), [...m].forEach(e => e.addEventListener("click", () => x(e.id))) }();